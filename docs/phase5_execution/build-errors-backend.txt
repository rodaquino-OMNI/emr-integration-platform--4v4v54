
> emrtask-backend@1.0.0 build
> NODE_OPTIONS='--max-old-space-size=4096' lerna run build

lerna notice cli v7.4.2

 >  Lerna (powered by Nx)   Running target build for 6 projects:

    - @emrtask/api-gateway
    - @emrtask/emr-service
    - @emrtask/handover-service
    - @emrtask/shared
    - @emrtask/sync-service
    - @emrtask/task-service

 

> @emrtask/shared:build


> @emrtask/shared@1.0.0 build
> tsc -b

src/secrets/aws-secrets.ts(22,3): error TS6133: 'UpdateSecretCommand' is declared but its value is never read.
src/secrets/aws-secrets.ts(28,8): error TS2307: Cannot find module '@aws-sdk/client-secrets-manager' or its corresponding type declarations.
src/secrets/aws-secrets.ts(29,10): error TS2724: '"../logger"' has no exported member named 'Logger'. Did you mean 'logger'?
src/secrets/aws-secrets.ts(130,7): error TS2322: Type 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.
src/secrets/aws-secrets.ts(131,7): error TS2322: Type 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.
src/secrets/aws-secrets.ts(132,7): error TS2322: Type 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.
src/secrets/aws-secrets.ts(134,7): error TS2322: Type 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.
src/secrets/aws-secrets.ts(482,9): error TS2322: Type 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.
src/secrets/index.ts(47,44): error TS4111: Property 'SECRET_MANAGER_TYPE' comes from an index signature, so it must be accessed with ['SECRET_MANAGER_TYPE'].
src/secrets/index.ts(53,30): error TS4111: Property 'VAULT_ADDR' comes from an index signature, so it must be accessed with ['VAULT_ADDR'].
src/secrets/index.ts(54,37): error TS4111: Property 'VAULT_ROLE' comes from an index signature, so it must be accessed with ['VAULT_ROLE'].
src/secrets/index.ts(55,32): error TS4111: Property 'VAULT_NAMESPACE' comes from an index signature, so it must be accessed with ['VAULT_NAMESPACE'].
src/secrets/index.ts(61,29): error TS4111: Property 'AWS_REGION' comes from an index signature, so it must be accessed with ['AWS_REGION'].
src/secrets/vault-client.ts(19,10): error TS2724: '"../logger"' has no exported member named 'Logger'. Did you mean 'logger'?
src/secrets/vault-client.ts(119,7): error TS2322: Type 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.
src/secrets/vault-client.ts(121,7): error TS2322: Type 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.
src/secrets/vault-client.ts(125,7): error TS2322: Type 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.
src/secrets/vault-client.ts(496,21): error TS2345: Argument of type 'Timer' is not assignable to parameter of type 'string | number | Timeout | undefined'.
  Type 'Timer' is missing the following properties from type 'Timeout': close, _onTimeout, [Symbol.dispose]
npm error Lifecycle script `build` failed with error:
npm error code 1
npm error path /home/user/emr-integration-platform--4v4v54/src/backend/packages/shared
npm error workspace @emrtask/shared@1.0.0
npm error location /home/user/emr-integration-platform--4v4v54/src/backend/packages/shared
npm error command failed
npm error command sh -c tsc -b

 

 >  Lerna (powered by Nx)   Running target build for 6 projects failed

   Tasks not run because their dependencies failed or --nx-bail=true:
   
   - @emrtask/api-gateway:build
   - @emrtask/emr-service:build
   - @emrtask/handover-service:build
   - @emrtask/sync-service:build
   - @emrtask/task-service:build
   
   Failed tasks:
   
   - @emrtask/shared:build

